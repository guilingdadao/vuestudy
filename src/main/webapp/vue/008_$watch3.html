<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>练习watch方法</title>
<script src="../js/vue.js"></script>
</head>

<body>

	<div id="app">
		<button @click="changeMsg">更改数据</button>
		<button @click="changeTitle">更改标题</button>
		<button @click="changeAddr">更改省份</button>
		<h2>msg:{{msg}}</h2>
		<br />
		<h2>title:{{title}}</h2>
		<br />
		<h2>addr.privince:{{addr.privince}}</h2>
	</div>
	<script type="text/javascript">
		var obj = {
			msg : 'hello',
			title : '练习使用watch方法',
			addr : {
				privince : '河南',
				city : '周口',
				distrinct : '区域'
			}
		};
		Object.freeze(obj.title);//可以更改此值
		Object.freeze(obj.addr);//不可以更改

		var app = new Vue({
			el : '#app',
			data : obj,
			methods : {
				changeMsg : function() {
					this.msg = (new Date()).toString();
				},
				changeTitle : function() {

					this.title = Math.random();
				},
				changeAddr : function() {
					this.addr.privince = '北京' + Math.random();
				}
			}
		});

		//观察msg值，如果有变化时，就是调用下面的函数
		app.$watch('msg', function(newVal, oldVal) {
			
			console.log("新值为:" + newVal + " , 旧值为：" + oldVal);
			
		});
	</script>
</body>
</html>